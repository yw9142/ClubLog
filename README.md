# ClubLog - 동아리 출석 체크 서비스

---

후기: 
해당 코드는 모두 v0, github copilot을 통해 테스트 제작 되었습니다. 일부 코드를 직접 작성하기도 했지만 지극히 일부입니다.
코드의 퀄리티를 보면 굉장히 좋지 않습니다.

간단하게 살펴보면 우선 AI 코드 작성은 최적화 측면에서 정상적으로 작동하지 않습니다. 가장 간단한 예시를 살펴보면 프로필 버튼의 다이얼로그에서 보이는 본인의 개인정보는 잘 변경되지 않고 유지되는 데이터임을 알 수 있습니다.
그렇다면 데이터를 다이얼로그 열 때마다 API call을 하는 것이 아니라 최초 로그인시에 받아왔던 유저 데이터를 caching 해놓거나 local storage에 저장해놓고 필요할 때 불러서 쓰는게 더 효율적이라고 생각됩니다. 그러나 기존 코드는 그렇게 구현해놓지 않습니다.

SSR적인 측면에서도 정상적으로 구현하지 않으며 대부분 CSR 기반 코드로 작성된 듯합니다. supabase 쪽도 마찬가지인듯 합니다. (이 부분은 제대로 살펴보지 않았음.)

또한 작성된 코드에서 발견된 오류가 있을 때 대부분은 쉽게 해결하지만 안풀리는 코드는 아무리 반복해도 절대 풀리지 않는 문제가 발생합니다. (아마 사용자 문제일 수도 있겠지만요)
가장 대표적인 부분이 QR코드 Scan 관련된 부분입니다. 이 부분은 아무리 지속적으로 요청해도 해결되지 않았습니다.

결론적으로 아직까지는 전체적인 코드를 작성하기보다는 일부 코드 작성시에 궁금한 점이나 막히는 부분이 있을 때 힌트를 얻거나 반복적인 작업을 할 때 더 유용한 듯합니다.
왜냐하면 전체적인 코드를 AI에게 맡긴 순간부터는 코드 구조를 파악하고, 수정하는 부분에 쓰는 시간이 코드를 처음부터 작성하는 시간보다 더 많이 들 것 같다는 생각이 듭니다.

---



QR 코드를 활용한 효율적인 동아리 출석 관리 시스템입니다. 사용자 친화적인 인터페이스와 실시간 출석 체크 기능으로 동아리 활동의 출석을 간편하게 기록하고 관리할 수 있습니다.

## 주요 기능

### 1. QR 코드 출석 체크
- 관리자가 생성한 세션별 QR 코드를 회원이 스캔하여 간편하게 출석 체크
- QR 코드 자동 갱신(5분 주기) 및 수동 갱신 기능
- QR 코드 다운로드 기능
- 출석/지각/결석 자동 판별 시스템
- 실시간 출석 현황 확인

### 2. 동아리 관리
- 동아리 생성 및 관리 기능
- 멤버 초대 링크 생성 및 권한 관리(일반 회원/관리자)
- 동아리별 출석 세션 생성 및 관리
- 멤버 목록 관리 기능

### 3. 출석 통계 및 분석
- 개인 및 동아리 전체의 출석 기록 시각화
- 차트와 그래프를 통한 출석률 분석
- 다양한 통계 데이터 제공 (최고/최저 출석률, 월별 출석 현황 등)
- CSV 형식의 출석 내역 다운로드 기능

### 4. 사용자 계정 및 프로필
- 이메일 기반 회원가입/로그인
- 사용자 프로필 관리
- 학교 및 학과 정보 관리
- 비밀번호 복구 및 재설정 기능

## 기술 스택

### 프론트엔드
- **프레임워크**: Next.js 15.x, React 19
- **언어**: TypeScript
- **스타일링**: Tailwind CSS, class-variance-authority

### UI 컴포넌트
- **컴포넌트 라이브러리**: Radix UI (Shadcn UI 디자인 시스템)
- **아이콘**: Lucide React

### 백엔드 및 데이터베이스
- **백엔드 서비스**: Supabase (인증, 데이터베이스)
- **데이터베이스**: PostgreSQL (Supabase)

### QR 코드 관련
- **QR 코드 생성**: qrcode.react
- **QR 코드 스캔**: html5-qrcode

### 데이터 시각화 및 분석
- **차트 라이브러리**: Recharts

### 기타 라이브러리
- **폼 관리**: React Hook Form
- **폼 유효성 검사**: Zod
- **날짜 관리**: date-fns
- **테마 관리**: next-themes
- **토스트 알림**: sonner

## 시작하기

### 필수 요구사항
- Node.js 18.0 이상
- pnpm

### 설치 방법

1. 저장소 클론
```bash
git clone <저장소 URL>
cd ClubLog
```

2. 의존성 설치
```bash
pnpm install
```

3. 환경 변수 설정
```bash
# .env.local 파일 생성
NEXT_PUBLIC_SUPABASE_URL=<Supabase 프로젝트 URL>
NEXT_PUBLIC_SUPABASE_ANON_KEY=<Supabase 익명 키>
```

4. 개발 서버 실행
```bash
pnpm dev
```

5. 브라우저에서 `http://localhost:3000`으로 접속

### Supabase 스키마 설정
`lib/schema.sql` 파일에 정의된 스키마를 Supabase SQL 에디터에서 실행하여 필요한 데이터베이스 테이블과 권한을 설정합니다.

### 빌드 및 배포

```bash
pnpm build
pnpm start
```

## 프로젝트 구조

```
app/                    # Next.js 앱 디렉토리
  api/                  # API 라우트
  attendance/           # 출석 관련 페이지
    [id]/               # 출석 세션 상세 페이지
      qr/               # QR 코드 생성 페이지
    create/             # 출석 세션 생성 페이지
    scan/               # QR 코드 스캔 페이지
  auth/                 # 인증 관련 페이지
  clubs/                # 동아리 관련 페이지
    [id]/               # 동아리 상세 페이지
    create/             # 동아리 생성 페이지
    join/               # 동아리 가입 페이지
  dashboard/            # 대시보드 페이지
  login/                # 로그인 페이지
  profile/              # 프로필 페이지
  settings/             # 설정 페이지
  signup/               # 회원가입 페이지
  statistics/           # 통계 페이지
components/             # 재사용 가능한 컴포넌트
  ui/                   # 공통 UI 컴포넌트
hooks/                  # 커스텀 훅
lib/                    # 유틸리티 함수, 타입, 스키마
public/                 # 정적 파일
```

## 기능 세부 사항

### 출석 세션 생성 및 QR 코드 관리
- 동아리 관리자만 출석 세션을 생성할 수 있음
- 출석 세션에는 시작/종료 시간, 위치 정보 포함
- QR 코드는 보안을 위해 5분마다 자동 갱신
- 관리자는 QR 코드를 수동으로 갱신하거나 다운로드 가능

### 출석 체크 프로세스
- 회원은 앱에서 QR 코드를 스캔하여 출석 체크
- 시간에 따라 출석/지각/결석 자동 분류
- 관리자는 출석 상태를 수동으로 변경 가능
- 출석 내역은 CSV 형식으로 다운로드 가능

### 통계 및 분석
- 개인별 출석률 및 동아리별 출석 현황 제공
- 월별 출석률 차트로 트렌드 시각화
- 최고/최저 출석 회원 통계
- 관리자는 전체 출석 데이터 다운로드 가능

## 라이센스

© 2025 ClubLog 동아리 출석 체크 서비스. All rights reserved.
